# HiveMind Electron 应用完整测试计划

> **测试日期**: 2026-02-15
> **测试版本**: 1.11.1
> **测试目的**: 验证 Electron 桌面应用在 R001-R007 重构后的功能完整性

---

## 📊 测试环境

- **操作系统**: macOS (Darwin 23.2.0)
- **Node.js**: v20.x
- **Electron**: v37.10.3
- **数据库**: SQLite (better-sqlite3)

---

## ✅ 测试清单

### 1. 基础启动测试

- [ ] **1.1** 应用能否成功启动
- [ ] **1.2** 主窗口是否正常显示
- [ ] **1.3** 是否有 JavaScript 错误
- [ ] **1.4** 数据库文件是否正常创建

**启动命令**: `npm start`

**预期结果**:
- 应用窗口打开
- 无控制台错误
- SQLite 数据库文件创建在 `~/Library/Application Support/HiveMind/hivemind.db`

---

### 2. 数据库功能测试

- [ ] **2.1** SQLite 数据库初始化
- [ ] **2.2** Schema 迁移执行
- [ ] **2.3** 默认用户创建
- [ ] **2.4** 表结构完整性

**测试方法**:
- 检查数据库文件是否创建
- 验证所有表是否存在

---

### 3. UI 功能测试

#### 3.1 对话功能
- [ ] **3.1.1** 创建新对话
- [ ] **3.1.2** 发送消息
- [ ] **3.1.3** 接收 AI 响应
- [ ] **3.1.4** 查看对话历史
- [ ] **3.1.5** 删除对话

#### 3.2 设置功能
- [ ] **3.2.1** 打开设置页面
- [ ] **3.2.2** 修改应用设置
- [ ] **3.2.3** 保存设置到数据库
- [ ] **3.2.4** 重启后设置持久化

#### 3.3 Skills 管理
- [ ] **3.3.1** 查看 Skills 列表
- [ ] **3.3.2** 启用/禁用 Skills
- [ ] **3.3.3** Skills 同步功能

#### 3.4 AI 工具集成
- [ ] **3.4.1** Codex 集成
- [ ] **3.4.2** Gemini 集成
- [ ] **3.4.3** 其他 AI CLI 工具

---

### 4. IPC 通信测试

- [ ] **4.1** Renderer → Main IPC 调用
- [ ] **4.2** Main → Renderer 事件推送
- [ ] **4.3** 数据库操作通过 IPC
- [ ] **4.4** 文件系统操作

**测试方法**:
- 检查 DevTools Console 中的 IPC 日志
- 验证数据读写是否正常

---

### 5. WebUI 模式测试（可选）

Electron 应用也支持 WebUI 模式（内嵌 Web 服务器）：

- [ ] **5.1** 启动 WebUI 模式: `npm run webui`
- [ ] **5.2** 访问 http://localhost:8765
- [ ] **5.3** 功能与 Electron GUI 一致

---

### 6. 性能测试

- [ ] **6.1** 应用启动时间 < 5秒
- [ ] **6.2** 内存占用 < 500MB (空闲时)
- [ ] **6.3** CPU 占用 < 5% (空闲时)
- [ ] **6.4** 对话响应时间 < 2秒

---

### 7. 错误处理测试

- [ ] **7.1** 数据库损坏时的恢复
- [ ] **7.2** AI CLI 工具不可用时的提示
- [ ] **7.3** 网络断开时的行为
- [ ] **7.4** 无效输入的处理

---

### 8. 兼容性测试

- [ ] **8.1** 旧数据库迁移（如果有旧版本）
- [ ] **8.2** 与 Web 模式数据隔离
- [ ] **8.3** 多窗口支持

---

## 🐛 已知问题（待记录）

### 问题 1: [待填写]
- **描述**:
- **重现步骤**:
- **严重程度**:
- **状态**:

---

## 📊 测试结果总结

### 通过率统计

| 测试模块 | 通过 | 失败 | 跳过 | 通过率 |
|---------|-----|------|------|--------|
| 基础启动 | - | - | - | -% |
| 数据库功能 | - | - | - | -% |
| UI 功能 | - | - | - | -% |
| IPC 通信 | - | - | - | -% |
| WebUI 模式 | - | - | - | -% |
| 性能测试 | - | - | - | -% |
| 错误处理 | - | - | - | -% |
| 兼容性 | - | - | - | -% |
| **总计** | **0** | **0** | **0** | **0%** |

---

## 🎯 测试结论

- **整体状态**: [待完成]
- **是否可以发布**: [待评估]
- **主要问题**: [待填写]
- **改进建议**: [待填写]

---

## 📝 测试日志

### 测试开始时间
[待填写]

### 测试结束时间
[待填写]

### 详细日志
```
[待记录测试过程中的详细日志]
```

---

**测试人员**: Claude Sonnet 4.5
**审核人员**: [待填写]
**最后更新**: 2026-02-15
