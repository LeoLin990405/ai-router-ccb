<p align="center">
  <img src="https://img.shields.io/badge/CCB-å¤šAIåä½œå¹³å°-blue?style=for-the-badge" alt="CCB">
  <img src="https://img.shields.io/badge/Provider-9ä¸ª-green?style=for-the-badge" alt="Providers">
  <img src="https://img.shields.io/badge/Agent-9ä¸ª-orange?style=for-the-badge" alt="Agents">
</p>

<h1 align="center">CCB - Claude Code Bridge</h1>

<p align="center">
  <strong>ä¼ä¸šçº§å¤š AI ç¼–æ’å¹³å°</strong>
  <br>
  <em>æ™ºèƒ½è·¯ç”±ã€ä¸“ä¸šåŒ– Agentã€ç»Ÿä¸€ APIï¼Œæ”¯æŒ 9 ä¸ª AI Provider</em>
</p>

<p align="center">
  <a href="#-ç‰¹æ€§">ç‰¹æ€§</a> â€¢
  <a href="#-å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#-æ¶æ„">æ¶æ„</a> â€¢
  <a href="#-gateway-api">Gateway API</a> â€¢
  <a href="#-agent-ç³»ç»Ÿ">Agent</a> â€¢
  <a href="#-å®‰è£…">å®‰è£…</a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.9+-3776AB?logo=python&logoColor=white" alt="Python">
  <img src="https://img.shields.io/badge/FastAPI-009688?logo=fastapi&logoColor=white" alt="FastAPI">
  <img src="https://img.shields.io/badge/SQLite-003B57?logo=sqlite&logoColor=white" alt="SQLite">
  <img src="https://img.shields.io/badge/WebSocket-010101?logo=socket.io&logoColor=white" alt="WebSocket">
  <img src="https://img.shields.io/badge/License-MIT-yellow" alt="License">
</p>

[English](README.md) | **ä¸­æ–‡**

---

## ğŸ¯ æ¦‚è¿°

**CCB (Claude Code Bridge)** æ˜¯ä¸€ä¸ªç”Ÿäº§çº§å¤š AI ç¼–æ’å¹³å°ï¼Œå°† 9 ä¸ª AI Provider ç»Ÿä¸€åœ¨å•ä¸€æ™ºèƒ½æ¥å£ä¸‹ã€‚å®ƒå…·å¤‡è‡ªåŠ¨ä»»åŠ¡è·¯ç”±ã€é’ˆå¯¹ä¸åŒé¢†åŸŸçš„ä¸“ä¸šåŒ– Agentï¼Œä»¥åŠæ”¯æŒ WebSocket çš„ç°ä»£ Gateway APIã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© CCBï¼Ÿ

| æŒ‘æˆ˜ | CCB è§£å†³æ–¹æ¡ˆ |
|------|-------------|
| å¤šä¸ª AI CLI æ¥å£ä¸ç»Ÿä¸€ | **ç»Ÿä¸€å‘½ä»¤æ¥å£**ï¼Œæ‰€æœ‰ Provider ä¸€è‡´ |
| æ‰‹åŠ¨é€‰æ‹© Provider | **æ™ºèƒ½è·¯ç”±**ï¼ŒåŸºäºä»»åŠ¡åˆ†æè‡ªåŠ¨é€‰æ‹© |
| æ— æŒä¹…åŒ–æˆ–çŠ¶æ€ç®¡ç† | **SQLite çŠ¶æ€å­˜å‚¨**ï¼Œæ”¯æŒè¯·æ±‚é˜Ÿåˆ— |
| ä¾èµ–ç»ˆç«¯é€šä¿¡ | **REST API + WebSocket**ï¼Œè§£è€¦æ¶æ„ |
| å• Provider å±€é™æ€§ | **9 ä¸ªä¸“ä¸šåŒ– Agent**ï¼Œè‡ªåŠ¨é™çº§ |

---

## âœ¨ ç‰¹æ€§

### æ ¸å¿ƒå¹³å°

| ç‰¹æ€§ | æè¿° |
|------|------|
| **9 ä¸ª AI Provider** | Claudeã€Codexã€Geminiã€OpenCodeã€DeepSeekã€Droidã€iFlowã€Kimiã€Qwen |
| **æ™ºèƒ½è·¯ç”±** | åŸºäºå…³é”®è¯å’Œæ–‡ä»¶æ¨¡å¼çš„ä»»åŠ¡æ„ŸçŸ¥ Provider é€‰æ‹© |
| **é­”æ³•å…³é”®è¯** | `@deep`ã€`@review`ã€`@all`ã€`@docs`ã€`@search` è§¦å‘ç‰¹æ®Šè¡Œä¸º |
| **ç»Ÿä¸€ CLI** | æ‰€æœ‰ Provider ä½¿ç”¨ä¸€è‡´çš„ `*ask` / `*ping` å‘½ä»¤ |

### Gateway APIï¼ˆPhase 5ï¼‰

| ç‰¹æ€§ | æè¿° |
|------|------|
| **REST API** | `POST /api/ask`ã€`GET /api/reply/{id}`ã€`GET /api/status` |
| **WebSocket** | å®æ—¶è¯·æ±‚/å“åº”æµï¼Œç«¯ç‚¹ `/api/ws` |
| **ä¼˜å…ˆçº§é˜Ÿåˆ—** | åŸºäº SQLite æŒä¹…åŒ–çš„è¯·æ±‚ä¼˜å…ˆçº§ |
| **å¤šåç«¯æ”¯æŒ** | HTTP APIã€CLI æ‰§è¡Œã€ç»ˆç«¯é›†æˆ |
| **å¥åº·ç›‘æ§** | è‡ªåŠ¨ Provider å¥åº·æ£€æŸ¥å’ŒæŒ‡æ ‡ |

### é«˜çº§èƒ½åŠ›

| ç‰¹æ€§ | æè¿° |
|------|------|
| **é€Ÿç‡é™åˆ¶** | æ¯ä¸ª Provider ç‹¬ç«‹çš„ä»¤ç‰Œæ¡¶ç®—æ³• |
| **MCP èšåˆ** | è·¨ MCP æœåŠ¡å™¨çš„ç»Ÿä¸€å·¥å…·å‘ç° |
| **OAuth2 è®¤è¯** | å®‰å…¨çš„ Web API è®¿é—® |
| **LSP/AST å·¥å…·** | åŸºäº tree-sitter çš„ä»£ç æ™ºèƒ½ |
| **æ‰¹é‡å¤„ç†** | å¹¶è¡Œä»»åŠ¡æ‰§è¡Œ |
| **æ™ºèƒ½ç¼“å­˜** | å‡å°‘é‡å¤ API è°ƒç”¨ |
| **è‡ªåŠ¨è®¤è¯ç»ˆç«¯** | CLI éœ€è¦è®¤è¯æ—¶è‡ªåŠ¨æ‰“å¼€ç»ˆç«¯ |
| **WezTerm é›†æˆ** | éœ€è¦ TTY çš„ CLI åœ¨ WezTerm pane ä¸­æ‰§è¡Œ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ç”¨æ³•

```bash
# æ™ºèƒ½è·¯ç”± - è‡ªåŠ¨é€‰æ‹©æœ€ä½³ Provider
ccb ask "æ·»åŠ  React ç»„ä»¶"        # â†’ Gemini (å‰ç«¯)
ccb ask "è®¾è®¡ API æ¥å£"          # â†’ Codex (åç«¯)
ccb ask "åˆ†æç®—æ³•å¤æ‚åº¦"         # â†’ DeepSeek (æ¨ç†)

# é­”æ³•å…³é”®è¯
ccb ask "@deep åˆ†æè¿™ä¸ªç®—æ³•"     # å¼ºåˆ¶æ·±åº¦æ¨ç†
ccb ask "@review æ£€æŸ¥è¿™æ®µä»£ç "   # å¼ºåˆ¶ä»£ç å®¡æŸ¥
ccb ask "@all æœ€ä½³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆ"    # å¤š Provider æŸ¥è¯¢

# ç›´æ¥ Provider å‘½ä»¤
cask "ä½ çš„é—®é¢˜"    # Codex
gask "ä½ çš„é—®é¢˜"    # Gemini
dskask "ä½ çš„é—®é¢˜"  # DeepSeek
kask "ä½ çš„é—®é¢˜"    # Kimi
qask "ä½ çš„é—®é¢˜"    # Qwen
```

### Gateway API

```bash
# å¯åŠ¨ Gateway æœåŠ¡å™¨
ccb-gateway start

# é€šè¿‡ REST API å‘é€è¯·æ±‚
curl -X POST http://localhost:8765/api/ask \
  -H "Content-Type: application/json" \
  -d '{"provider": "gemini", "message": "ä½ å¥½"}'

# è·å–å“åº”
curl http://localhost:8765/api/reply/{request_id}

# æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
curl http://localhost:8765/api/status
```

### Agent æ‰§è¡Œ

```bash
# è‡ªåŠ¨é€‰æ‹©æœ€ä½³ Agent
ccb-agent auto "å®ç°æ’åºå‡½æ•°"

# ä½¿ç”¨æŒ‡å®š Agent æ‰§è¡Œ
ccb-agent execute reviewer "å®¡è®¡è¿™æ®µä»£ç "
ccb-agent execute oracle "åˆ†æç®—æ³•å¤æ‚åº¦"

# åˆ—å‡ºå¯ç”¨ Agent
ccb-agent list
```

---

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CCB å¹³å°æ¶æ„                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Agent å±‚ (9 ä¸ª Agent)                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
â”‚  â”‚  â”‚ Sisyphus â”‚ â”‚  Oracle  â”‚ â”‚Librarian â”‚ â”‚ Explorer â”‚ â”‚ Frontend â”‚    â”‚ â”‚
â”‚  â”‚  â”‚  (ä»£ç )  â”‚ â”‚  (æ¨ç†)  â”‚ â”‚  (æ–‡æ¡£)  â”‚ â”‚  (æœç´¢)  â”‚ â”‚  (UI/UX) â”‚    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚ Reviewer â”‚ â”‚ Workflow â”‚ â”‚ Polyglot â”‚ â”‚Autonomousâ”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  (å®¡æŸ¥)  â”‚ â”‚ (è‡ªåŠ¨åŒ–) â”‚ â”‚  (å›½é™…åŒ–)â”‚ â”‚ (é•¿ä»»åŠ¡) â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Gateway API å±‚ (Phase 5)                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚  â”‚  â”‚  REST API   â”‚ â”‚  WebSocket  â”‚ â”‚  è¯·æ±‚é˜Ÿåˆ—   â”‚ â”‚  çŠ¶æ€å­˜å‚¨   â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ (FastAPI)   â”‚ â”‚  (å®æ—¶)     â”‚ â”‚  (ä¼˜å…ˆçº§)   â”‚ â”‚  (SQLite)   â”‚     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         ç»Ÿä¸€è·¯ç”±å¼•æ“                                    â”‚ â”‚
â”‚  â”‚         ä»»åŠ¡åˆ†æ â†’ Provider é€‰æ‹© â†’ é™çº§é“¾                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           åç«¯å±‚                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚ HTTP API â”‚ â”‚ CLI æ‰§è¡Œ â”‚ â”‚   ç»ˆç«¯   â”‚ â”‚   FIFO   â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚(Anthropicâ”‚ â”‚ (Codex,  â”‚ â”‚  (å…¼å®¹)  â”‚ â”‚  (å…¼å®¹)  â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ DeepSeek)â”‚ â”‚ Gemini)  â”‚ â”‚          â”‚ â”‚          â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Provider å±‚ (9 ä¸ª Provider)                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚Claude â”‚ â”‚ Codex â”‚ â”‚Gemini â”‚ â”‚OpenCodeâ”‚ â”‚DeepSeekâ”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚ â”‚
â”‚  â”‚  â”‚ Droid â”‚ â”‚ iFlow â”‚ â”‚ Kimi  â”‚ â”‚  Qwen  â”‚                            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Gateway API

### REST ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| `POST` | `/api/ask` | å‘ Provider æäº¤è¯·æ±‚ |
| `GET` | `/api/reply/{request_id}` | è·å–è¯·æ±‚çš„å“åº” |
| `GET` | `/api/status` | è·å– Gateway å’Œ Provider çŠ¶æ€ |
| `DELETE` | `/api/request/{request_id}` | å–æ¶ˆå¾…å¤„ç†è¯·æ±‚ |
| `GET` | `/docs` | äº¤äº’å¼ API æ–‡æ¡£ |

### è¯·æ±‚ç¤ºä¾‹

```bash
# æäº¤è¯·æ±‚
curl -X POST http://localhost:8765/api/ask \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "gemini",
    "message": "è§£é‡Š Python ä¸­çš„ async/await",
    "timeout_s": 60,
    "priority": 50
  }'

# å“åº”
{
  "request_id": "abc123-def",
  "provider": "gemini",
  "status": "queued"
}
```

### WebSocket äº‹ä»¶

```javascript
// è¿æ¥ WebSocket
const ws = new WebSocket('ws://localhost:8765/api/ws');

// è®¢é˜…äº‹ä»¶
ws.send(JSON.stringify({
  type: 'subscribe',
  channels: ['requests', 'providers']
}));

// æ¥æ”¶äº‹ä»¶
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  // { type: 'request_update', request_id: '...', status: 'completed', response: '...' }
};
```

### Provider çŠ¶æ€

```bash
curl http://localhost:8765/api/status | jq '.providers'
```

```json
[
  {"name": "gemini", "enabled": true, "status": "healthy", "avg_latency_ms": 2500},
  {"name": "codex", "enabled": true, "status": "healthy", "avg_latency_ms": 5800},
  {"name": "deepseek", "enabled": true, "status": "healthy", "avg_latency_ms": 48000},
  {"name": "kimi", "enabled": true, "status": "healthy", "avg_latency_ms": 5000},
  {"name": "qwen", "enabled": true, "status": "healthy", "avg_latency_ms": 11000},
  {"name": "iflow", "enabled": true, "status": "healthy", "avg_latency_ms": 40000},
  {"name": "opencode", "enabled": true, "status": "healthy", "avg_latency_ms": 23000}
]
```

---

## ğŸ¤– Agent ç³»ç»Ÿ

### Agent æ¦‚è§ˆ

| Agent | ç”¨é€” | é¦–é€‰ Provider | å…³é”®è¯ |
|-------|------|---------------|--------|
| **Sisyphus** | ä»£ç å®ç° | Codex, Gemini | å®ç°, åˆ›å»º, å¼€å‘ |
| **Oracle** | æ·±åº¦æ¨ç†ä¸åˆ†æ | DeepSeek, Claude | åˆ†æ, æ¨ç†, ç®—æ³• |
| **Librarian** | æ–‡æ¡£ä¸æœç´¢ | Claude, Gemini | æ–‡æ¡£, è§£é‡Š |
| **Explorer** | ä»£ç åº“å¯¼ï¿½ï¿½ï¿½ | Gemini, Claude | æŸ¥æ‰¾, æœç´¢, å®šä½ |
| **Frontend** | UI/UX å¼€å‘ | Gemini, Claude | react, vue, ç»„ä»¶ |
| **Reviewer** | ä»£ç å®¡æŸ¥ä¸æµ‹è¯• | Gemini, Claude | å®¡æŸ¥, å®¡è®¡, æ£€æŸ¥ |
| **Workflow** | å¤šæ­¥éª¤è‡ªåŠ¨åŒ– | iFlow, Droid | è‡ªåŠ¨åŒ–, æµç¨‹ |
| **Polyglot** | ç¿»è¯‘ä¸å›½é™…åŒ– | Kimi, Qwen | ç¿»è¯‘, å¤šè¯­è¨€ |
| **Autonomous** | é•¿æ—¶é—´ä»»åŠ¡ | Droid, Codex | åå°, é•¿æ—¶é—´ |

### Agent å‘½ä»¤

```bash
# åˆ—å‡ºæ‰€æœ‰ Agent åŠå…¶èƒ½åŠ›
ccb-agent list

# æ ¹æ®ä»»åŠ¡è‡ªåŠ¨é€‰æ‹© Agent
ccb-agent auto "å®ç°äºŒå‰æœç´¢æ ‘"

# ä½¿ç”¨æŒ‡å®š Agent æ‰§è¡Œ
ccb-agent execute sisyphus "åˆ›å»º REST API ç«¯ç‚¹"
ccb-agent execute oracle "åˆ†æè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦"
ccb-agent execute reviewer "å®¡æŸ¥è¿™ä¸ª PR"

# æ˜¾ç¤ºå“ªä¸ª Agent ä¼šè¢«é€‰ä¸­
ccb-agent match "å°†è¿™ä»½æ–‡æ¡£ç¿»è¯‘æˆä¸­æ–‡"
```

---

## ğŸ“¦ Provider åˆ—è¡¨

### Provider çŸ©é˜µ

| Provider | å‘½ä»¤ | åç«¯ | æœ€ä½³ç”¨é€” | çŠ¶æ€ |
|----------|------|------|----------|------|
| **Claude** | `lask` | HTTP API | æ¶æ„è®¾è®¡ã€é€šç”¨ | âœ… |
| **Codex** | `cask` | CLI (`exec --json`) | åç«¯ã€API | âœ… |
| **Gemini** | `gask` | CLI + WezTermÂ¹ | å‰ç«¯ã€å®¡æŸ¥ | âœ… |
| **OpenCode** | `oask` | CLI (`run --format json`) | é€šç”¨ç¼–ç  | âœ… |
| **DeepSeek** | `dskask` | CLI (`-q`) | æ·±åº¦æ¨ç† | âœ… |
| **Droid** | `dask` | ç»ˆç«¯ | è‡ªä¸»æ‰§è¡Œ | âš ï¸ |
| **iFlow** | `iask` | CLI (`-p`) | å·¥ä½œæµ | âœ… |
| **Kimi** | `kask` | CLI (`--quiet -p`) | ä¸­æ–‡ã€é•¿ä¸Šä¸‹æ–‡ | âœ… |
| **Qwen** | `qask` | CLI | å¤šè¯­è¨€ | âœ… |

Â¹ Gemini CLI éœ€è¦ TTY ç¯å¢ƒï¼›Gateway ä½¿ç”¨ WezTerm pane æ‰§è¡Œä»¥æä¾› TTY æ”¯æŒã€‚

### è·¯ç”±è§„åˆ™

| ä»»åŠ¡ç±»å‹ | å…³é”®è¯ | æ–‡ä»¶æ¨¡å¼ | Provider |
|----------|--------|----------|----------|
| å‰ç«¯ | react, vue, ç»„ä»¶ | `*.tsx`, `*.vue` | Gemini |
| åç«¯ | api, æ¥å£, æœåŠ¡å™¨ | `api/**`, `routes/**` | Codex |
| æ¨ç† | åˆ†æ, ç®—æ³• | - | DeepSeek |
| æ¶æ„ | è®¾è®¡, æ¶æ„ | - | Claude |
| å®¡æŸ¥ | å®¡æŸ¥, æ£€æŸ¥, å®¡è®¡ | - | Gemini |

### é­”æ³•å…³é”®è¯

| å…³é”®è¯ | åŠ¨ä½œ | æè¿° |
|--------|------|------|
| `@deep` | æ·±åº¦æ¨ç† | å¼ºåˆ¶ä½¿ç”¨ DeepSeek |
| `@review` | ä»£ç å®¡æŸ¥ | å¼ºåˆ¶ Gemini å®¡æŸ¥æ¨¡å¼ |
| `@docs` | æ–‡æ¡£æŸ¥è¯¢ | æŸ¥è¯¢ Context7 |
| `@search` | ç½‘ç»œæœç´¢ | è§¦å‘ç½‘ç»œæœç´¢ |
| `@all` | å¤š Provider | åŒæ—¶æŸ¥è¯¢å¤šä¸ª Provider |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
~/.local/share/codex-dual/
â”œâ”€â”€ bin/                        # CLI å‘½ä»¤
â”‚   â”œâ”€â”€ ccb-ask                 # æ™ºèƒ½è·¯ç”±å‘½ä»¤
â”‚   â”œâ”€â”€ ccb-agent               # Agent æ‰§è¡Œ
â”‚   â”œâ”€â”€ ccb-gateway             # Gateway ç®¡ç†
â”‚   â”œâ”€â”€ ccb-ratelimit           # é€Ÿç‡é™åˆ¶
â”‚   â””â”€â”€ cask, gask, dskask...   # Provider ä¸“ç”¨å‘½ä»¤
â”‚
â”œâ”€â”€ lib/                        # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ unified_router.py       # æ™ºèƒ½è·¯ç”±å¼•æ“
â”‚   â”œâ”€â”€ agent_registry.py       # Agent å®šä¹‰
â”‚   â”œâ”€â”€ agent_executor.py       # Agent æ‰§è¡Œé€»è¾‘
â”‚   â”œâ”€â”€ provider_commands.py    # Provider å‘½ä»¤æ˜ å°„
â”‚   â”‚
â”‚   â””â”€â”€ gateway/                # Gateway API æ¨¡å— (Phase 5)
â”‚       â”œâ”€â”€ gateway_server.py   # FastAPI æœåŠ¡å™¨
â”‚       â”œâ”€â”€ gateway_api.py      # REST ç«¯ç‚¹
â”‚       â”œâ”€â”€ gateway_config.py   # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ state_store.py      # SQLite çŠ¶æ€æŒä¹…åŒ–
â”‚       â”œâ”€â”€ request_queue.py    # ä¼˜å…ˆçº§é˜Ÿåˆ—
â”‚       â”œâ”€â”€ monitor.py          # å®æ—¶ç›‘æ§
â”‚       â”œâ”€â”€ models.py           # æ•°æ®æ¨¡å‹
â”‚       â””â”€â”€ backends/           # åç«¯å®ç°
â”‚           â”œâ”€â”€ base_backend.py
â”‚           â”œâ”€â”€ http_backend.py
â”‚           â”œâ”€â”€ cli_backend.py
â”‚           â””â”€â”€ terminal_backend.py
â”‚
â”œâ”€â”€ mcp/                        # MCP æœåŠ¡å™¨
â”œâ”€â”€ config/                     # é…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ gateway.yaml            # Gateway é…ç½®
â”‚
â””â”€â”€ install.sh                  # å®‰è£…è„šæœ¬

~/.ccb_config/                  # ç”¨æˆ·é…ç½®
â”œâ”€â”€ unified-router.yaml         # è·¯ç”±è§„åˆ™
â”œâ”€â”€ phase4.yaml                 # é«˜çº§ç‰¹æ€§
â””â”€â”€ gateway.db                  # Gateway çŠ¶æ€æ•°æ®åº“
```

---

## ğŸ”§ å®‰è£…

### å‰ç½®æ¡ä»¶

- **Python 3.9+**
- **WezTerm** æˆ– **tmux**ï¼ˆç»ˆç«¯å¤ç”¨ï¼‰
- Provider CLIï¼š`claude`ã€`codex`ã€`gemini`ã€`opencode`ã€`deepseek`ã€`kimi`ã€`qwen`

### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/LeoLin990405/ccb.git ~/.local/share/codex-dual

# è¿è¡Œå®‰è£…
cd ~/.local/share/codex-dual && ./install.sh

# æ·»åŠ åˆ° PATHï¼ˆæ·»åŠ åˆ° ~/.zshrc æˆ– ~/.bashrcï¼‰
export PATH="$HOME/.local/share/codex-dual/bin:$PATH"
```

### ç¯å¢ƒå˜é‡

```bash
# æ·»åŠ åˆ° ~/.zshrc æˆ– ~/.bashrc
export CCB_SIDECAR_AUTOSTART=1      # è‡ªåŠ¨å¯åŠ¨ sidecar pane
export CCB_SIDECAR_DIRECTION=right  # Sidecar pane æ–¹å‘
export CCB_CLI_READY_WAIT_S=20      # CLI å°±ç»ªè¶…æ—¶
export CCB_USE_GATEWAY=1            # å¯ç”¨ Gateway æ¨¡å¼
export CCB_GATEWAY_PORT=8765        # Gateway ç«¯å£
export CCB_AUTO_OPEN_AUTH=1         # è¶…æ—¶æ—¶è‡ªåŠ¨æ‰“å¼€è®¤è¯ç»ˆç«¯ï¼ˆé»˜è®¤ï¼š1ï¼‰
export CCB_DEBUG=1                  # å¯ç”¨è¯¦ç»†è°ƒè¯•æ—¥å¿—
```

### éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ CCB ç‰ˆæœ¬
ccb --version

# æ£€æŸ¥ Provider å¥åº·çŠ¶æ€
ccb health

# å¯åŠ¨ Gateway
ccb-gateway start

# æµ‹è¯•è·¯ç”±
ccb route "å®ç°ä¸€ä¸ª React ç»„ä»¶"
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### Gateway æŒ‡æ ‡

| æŒ‡æ ‡ | æè¿° |
|------|------|
| `total_requests` | å·²å¤„ç†è¯·æ±‚æ€»æ•° |
| `active_requests` | å½“å‰å¤„ç†ä¸­ |
| `queue_depth` | å¾…å¤„ç†è¯·æ±‚ |
| `avg_latency_ms` | å¹³å‡å“åº”æ—¶é—´ |
| `success_rate` | è¯·æ±‚æˆåŠŸç‡ |

### Provider å»¶è¿Ÿï¼ˆå…¸å‹å€¼ï¼‰

| Provider | å¹³å‡å»¶è¿Ÿ | ç”¨é€” |
|----------|----------|------|
| Gemini | ~2.5s | å¿«é€Ÿå“åº” |
| Codex | ~5.8s | ä»£ç ç”Ÿæˆ |
| Kimi | ~5.0s | ä¸­æ–‡å†…å®¹ |
| Qwen | ~11s | å¤šè¯­è¨€ |
| OpenCode | ~23s | é€šç”¨ç¼–ç  |
| iFlow | ~40s | å·¥ä½œæµè‡ªåŠ¨åŒ– |
| DeepSeek | ~48s | æ·±åº¦æ¨ç† |

---

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼š

- **[bfly123/claude_code_bridge](https://github.com/bfly123/claude_code_bridge)** - åŸå§‹å¤š AI åä½œæ¡†æ¶
- **[Grafbase/Nexus](https://github.com/grafbase/nexus)** - AI ç½‘å…³æ¶æ„çµæ„Ÿ
- **[code-yeongyu/oh-my-opencode](https://github.com/code-yeongyu/oh-my-opencode)** - Agent ç¼–æ’æ¨¡å¼

---

## ğŸ‘¥ è´¡çŒ®è€…

- **Leo** ([@LeoLin990405](https://github.com/LeoLin990405)) - é¡¹ç›®è´Ÿè´£äºº
- **Claude** (Anthropic Claude Opus 4.5) - æ¶æ„è®¾è®¡ä¸å®ç°

---

## ğŸ“„ è®¸å¯è¯

MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE)

---

<p align="center">
  <sub>äººä¸ AI åä½œæ„å»º</sub>
  <br>
  <sub>â­ å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯·ç»™ä¸ª Starï¼</sub>
</p>
